import{LitElement,html,css}from"https://unpkg.com/lit-element@2.0.1/lit-element.js?module";var types=[{type:"success",svg:"./svg/notif-icon-success.svg"},{type:"warning",svg:"./svg/notif-icon-warning.svg"},{type:"danger",svg:"./svg/notif-icon-danger.svg"},{type:"info",svg:"./svg/notif-icon-info.svg"}],idx=0,removed=!1;class BeerNotificationLit extends LitElement{static get properties(){return{type:{type:String,reflect:!0},title:{type:String,reflect:!0},message:{type:String,reflect:!0},duration:{type:Number,reflect:!0},position:{type:String,reflect:!0},offset:{type:Number,reflect:!0}}}connectedCallback(){super.connectedCallback(),0!=this.duration&&window.setTimeout(()=>{removed||this._removeFromDom(this)},this.duration)}constructor(){super();var e=document.getElementsByTagName("beer-notification-lit").item(idx);idx++,this.type="",this.title="",this.message="";var t=e.getAttribute("duration");null!=t&&(this.duration=t),this.duration=4500,this.position="",this.offset=0,this.onclick=(()=>{let t=new CustomEvent("Clicked",{});self.dispatchEvent(t),console.log("clicked on notif"),this.removed=!0,this._removeFromDom(e)}),this.message=e.textContent}static get styles(){return css`
        :host {
            display: block;
            font-family: sans-serif;
            text-align: left;
        }
        /* Notification box */
        .popup {
            /*display: none;*/   /* Hidden by default. Use this when we have linked with button.
                                Once linked with button, notification will show up when button
                                is clicked. */
            position: fixed;     /* Stay in place on screen */
            z-index: 1;          /* In front of everything else with smaller z-indices 
                                 /* (default z-index is 0 if unspecified) */
            right: 0;            /* By default, positioned on top-right of screen */
            top: 0;
            width: 20em;         /* Fixed width */
            height: auto;        /* Dynamically adjust height based on content */
            overflow: auto;      /* Enable scroll if needed */
            margin: 2em;
            border-radius: 0.5em;
            background-color: white;
        }
        /* Shadow around notification box */
        .shadow {
            /* horizontal-length, vertical-length, blur-radius, shadow-color */
            -webkit-box-shadow:  0em 0em 0.8em #E3E3E3;
            -moz-box-shadow:     0em 0em 0.8em #E3E3E3;
            box-shadow:          0em 0em 0.8em #E3E3E3;
        }
        /* Notification Content */
        .popup-title {
            font-weight: bold;
        }
        .popup-content {
            margin: auto;
            width: 90%;
        }
        /* The Close Button */
        .close {
            color: #a8a8a8;
            float: right;
            font-size: 28px;
        }
      
        .close:hover, .close:focus {
            color: #636363;
            text-decoration: none;
            cursor: pointer;
        }
        .icon {
            width: 1.3em;
            height: 1.3em;
            float: left;
            padding: 0 0.7em 0 0;
        }
        `}_getTypeIcon(){let e=types.find(e=>{return e.type===this.type});return void 0!==e?e.svg:""}_validType(){let e=!1;return types.find(t=>{t.type===this.type&&(e=!0)}),e}_removeFromDom(e){e.parentNode.removeChild(e)}render(){return html`
        <div class="popup shadow">
            <div class="popup-content">
                <span>
                    <img class=${this._validType()?"icon":""} 
                           src=${this._getTypeIcon()}>
                    </img>
                </span>
                <p class="popup-title">${this.title}</> 
                <span class="close">&times;</span>
                <p>${this.message}</>
            </div>
        </div>
    `}}window.customElements.define("beer-notification-lit",BeerNotificationLit);